<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>DHCP - ADSILLH</title>
  <meta name="description" content="Cours sur le protocole DHCP.
Enseignant : Catarina Christophe
Fonctionnement Un DHCP serveur (deamon DHCP) écoute sur le réseau les gens qui demandent une adresse IP, pour les distribuer selon la configuration réseau.
Une carte réseau ne sait pas comment se connecter au réseau. Par conséquent elle communique au réseau.
 A l&rsquo;époque de Windows XP, la machine envoyait un broadcast sur l&rsquo;internet pour obtenir un nom de domaine.">
  <meta name="author" content="Maxime Oçafrain"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "ADSILLH",
    
    "url": "https:\/\/moustakick.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/moustakick.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/moustakick.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/moustakick.github.io\/installation\/catarina\/cours_dhcp2609\/",
          "name": "D h c p"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Maxime Oçafrain"
  },
  "headline": "DHCP",
  "description" : "Cours sur le protocole DHCP.\nEnseignant : Catarina Christophe\nFonctionnement Un DHCP serveur (deamon DHCP) écoute sur le réseau les gens qui demandent une adresse IP, pour les distribuer selon la configuration réseau.\nUne carte réseau ne sait pas comment se connecter au réseau. Par conséquent elle communique au réseau.\n A l\x26rsquo;époque de Windows XP, la machine envoyait un broadcast sur l\x26rsquo;internet pour obtenir un nom de domaine.",
  "inLanguage" : "en",
  "wordCount":  458 ,
  "datePublished" : "2019-09-26T09:46:19",
  "dateModified" : "2019-09-26T09:46:19",
  "image" : "https:\/\/moustakick.github.io\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/moustakick.github.io\/installation\/catarina\/cours_dhcp2609\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/moustakick.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/moustakick.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="DHCP" />
<meta property="og:description" content="Cours sur le protocole DHCP.
Enseignant : Catarina Christophe
Fonctionnement Un DHCP serveur (deamon DHCP) écoute sur le réseau les gens qui demandent une adresse IP, pour les distribuer selon la configuration réseau.
Une carte réseau ne sait pas comment se connecter au réseau. Par conséquent elle communique au réseau.
 A l&rsquo;époque de Windows XP, la machine envoyait un broadcast sur l&rsquo;internet pour obtenir un nom de domaine.">
<meta property="og:url" content="https://moustakick.github.io/installation/catarina/cours_dhcp2609/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="ADSILLH" />

  <meta name="twitter:title" content="DHCP" />
  <meta name="twitter:description" content="Cours sur le protocole DHCP.
Enseignant : Catarina Christophe
Fonctionnement Un DHCP serveur (deamon DHCP) écoute sur le réseau les gens qui demandent une adresse IP, pour les distribuer selon la …">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.58.1" />
  <link rel="alternate" href="https://moustakick.github.io/index.xml" type="application/rss+xml" title="ADSILLH"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://moustakick.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://moustakick.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://moustakick.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://moustakick.github.io/">ADSILLH</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Système" href="/syst%C3%A8me/">Système</a>
            </li>
          
        
          
            <li>
              <a title="Reseau" href="/reseau/">Reseau</a>
            </li>
          
        
          
            <li>
              <a title="Projet" href="/projet/">Projet</a>
            </li>
          
        
          
            <li>
              <a title="BDD" href="/bdd/">BDD</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Installation</a>
              <div class="navlinks-children">
                
                  <a href="/installation/catarina/">Catarina Christophe</a>
                
                  <a href="/installation/elineau/">Elineau Jean-Christophe</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Droit" href="/droit/">Droit</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="Installation-heading">
              
                <h1>DHCP</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<p>Cours sur le protocole DHCP.<br />
<u>Enseignant</u> : Catarina Christophe</p>

<h1 id="fonctionnement">Fonctionnement</h1>

<p>Un DHCP serveur (deamon DHCP) écoute sur le réseau les gens qui demandent une adresse IP, pour les distribuer selon la configuration réseau.<br />
Une carte réseau ne sait pas comment se connecter au réseau. Par conséquent elle communique au réseau.</p>

<blockquote>
<p>A l&rsquo;époque de Windows XP, la machine envoyait un broadcast sur l&rsquo;internet pour obtenir un nom de domaine.</p>
</blockquote>

<p>Normalement dans le domaine du broadcast il y a un serveur de DHCP actif. Et le serveur DHCP lui propose de prendre un adresse. Il attend ensuite confirmation de la part de la machine émetrice. Puis il valide et scelle l&rsquo;offre.<br />
Le client va ensuite appeler sa propre adresse pour savoir si quelqu&rsquo;un n&rsquo;a pas répondu en même temps sur le réseau et n&rsquo;ai pas la même adresse.</p>

<h2 id="les-baux">Les baux</h2>

<p>Les adresses sont défini avec un durée limitée, pour éviter que toutes les adresses soit attribuer même si l&rsquo;appareil ne se connecte plus au réseau. <strong>La durée d&rsquo;attribution est défini dans le bail</strong>.<br />
L&rsquo;objectif par conséquent est de réflechir à une régle d&rsquo;attribution des adresses en fonction des réseaux.</p>

<ul>
<li>Par exemple dans un réseau où les ordinateurs vont se co et déco souvent alors on aura tendance à affecté des baux court.</li>
<li>Il y aussi des baux d&rsquo;attribution fixe (MAC &ndash;&gt; IP).</li>
</ul>

<p>Normalement le serveur DHCP doit être dans la même branche réseau que les machines car le routeur ne fait pas la distibution du broadcast.</p>

<blockquote>
<p>Parallele : En informatique il y a des choses qui ont existés. Mais dans le hacking certaines choses vont être réutiliser. On reutilise pas mal de chose pour la construction de certaines commandes par exemple.</p>
</blockquote>

<h2 id="les-requetes-et-les-messages-dhcp">Les requetes et les messages DHCP</h2>

<ul>
<li>DHCPDISCOVER : Pour localise les serveurs DHCP disponibles.</li>
<li>DHCPOFFER : Réponse du serveur à un message DHCPDISCOVER, qui contient les premiers paramètres.</li>
<li>DHCPREQUEST : Requête diverse du client par exemple pour prolonger son bail. (Aussi une réponse du client pour valider se bail).</li>
<li>DHCPDECLINE : Le client annonce au serveur que l&rsquo;adresse est déjà utilisé.</li>
<li>DHCPACK : (ACK) Réponse du serveur qui contient des paramètres et l&rsquo;adresse IP du client.</li>
<li>DHCPNAK : Réponse du serveur pour signaler au client que son bail est déchu ou si le client annonce une mauvaise configuration réseau.</li>
</ul>

<blockquote>
<p>L&rsquo;adresse MAC aujourd&rsquo;hui n&rsquo;est plus spécialement utilisée à cause du spoofing d&rsquo;adresses pour l&rsquo;attribution des adresses.<br />
La commande DHCPINFORM peut être lancé à la main depuis un client.</p>
</blockquote>

<p>Séquence classique <strong>DORA</strong> : DHCP<strong>D</strong>ISCOVER &ndash;&gt; DHCP<strong>O</strong>FFER &ndash;&gt; DHCP<strong>R</strong>EQUEST &ndash;&gt; DHCP<strong>A</strong>CK puis DHCPRELEASE (bien plus tard) :</p>

<link href="/css/mermaid.css" type="text/css" rel="stylesheet"/>
<script defer src="/js/mermaid.js">
    mermaid.initialize({startOnLoad:true});
</script>
<div class="mermaid" align="left" >
    
graph LR;
    A[Client] -->|1. DHCPDISCOVER| B[Serveur]
    B -->|2. DHCPOFFER| A
    A -->|3. DHCPREQUEST| B
    B -->|4. DHCPACK| A

</div>


<hr />

<h3 id="trames">Trames</h3>

<p>Voir le diapo : trames/options/etc</p>

<hr />

<h3 id="wireshark">Wireshark</h3>

<p>Voir le diapo.</p>

<hr />

<h3 id="bibliographie">Bibliographie</h3>

<blockquote>
<p>man in the middle proxy</p>
</blockquote>


        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
          
            <li class="next">
              <a href="https://moustakick.github.io/installation/catarina/cours_ntp2609/" data-toggle="tooltip" data-placement="top" title="NTP">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Maxime Oçafrain
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://moustakick.github.io/">ADSILLH</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.58.1</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://moustakick.github.io/js/main.js"></script>
<script src="https://moustakick.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://moustakick.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

